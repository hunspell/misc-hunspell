{
  "app-id": "org.nuspell.Nuspell",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "19.08",
  "sdk": "org.freedesktop.Sdk",
  "command": "nuspell",
  "modules" : [
    {
      "name": "boost",
      "buildsystem": "simple",
      "build-commands": [
        "./bootstrap.sh --prefix=/app --with-libraries=locale",
        "./b2 install"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://dl.bintray.com/boostorg/release/1.65.1/source/boost_1_65_1.tar.bz2",
          "sha256": "9807a5d16566c57fd74fb522764e0b134a8bbe6b6e8967b83afefd30dcd3be81"
        }
      ]
    },
    {
      "name": "launcher",
      "buildsystem": "simple",
      "build-commands": [
        "mkdir -p /app/share/applications/",
        "cat <<EOF >/app/share/applications/org.nuspell.Nuspell.desktop \
[Desktop Entry]\
Categories=TextEditor;Utility;\
Name=Nuspell\
GenericName=Spellchecker\
Comment=spellchecking library and command-line tool\
Exec=nuspell %u\
Icon=org.nuspell.Nuspell\
Terminal=true\
StartupNotify=false\
Type=Application\
EOF",
        "mkdir -p /app/share/metainfo/",
        "cp -f org.nuspell.Nuspell.metainfo.xml /app/share/metainfo/org.nuspell.Nuspell.appdata.xml",
        "mkdir -p /app/share/icons/hicolor/512x512/apps/",
        "cp -f logo-white-512x512.png /app/share/icons/hicolor/512x512/apps/org.nuspell.Nuspell.png"
      ],
      "sources": [
        {
          "type": "file",
          "path": "org.nuspell.Nuspell.metainfo.xml"
        },
        {
          "type": "file",
          "url": "https://raw.githubusercontent.com/nuspell/misc-nuspell/master/packaging/flatpak/org.nuspell.Nuspell.desktop",
          "sha256": "6264d8603a0ac88e2b45fedc365bddb0adcea8aad539d85d650f1b1016530e58"
        },
        {
          "type": "file",
          "url": "https://raw.githubusercontent.com/nuspell/nuspell.github.io/master/assets/images/logo-white-512x512.png",
          "sha256": "e35dcdddc8bac67ec5805d5c7983384aee9813af88cef84d55396980b54fcb04"
        }
      ]
    },
    {
      "name": "nuspell",
      "modules": [
        "boost"
      ],
      "buildsystem": "cmake",
      "config-opts": [
        "-DBUILD_TESTING=OFF",
        "-DBUILD_SHARED_LIBS=ON",
        "-DBOOST_ROOT=/app"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/nuspell/nuspell/archive/v3.1.1.tar.gz",
          "sha256": "a0de090c3786df33392dde5ea8b0121f0fd852d68169834732a46f4d010990b1"
        }
      ]
    }
  ]
}
