id: org.nuspell.Nuspell
runtime: org.freedesktop.Platform
runtime-version: '18.08'
sdk: org.freedesktop.Sdk
command: nuspell
modules:
  - name: boost
#TODO is the next line needed?
    buildsystem: simple
    build-commands:
      - git submodule update --init --recursive && ./bootstrap.sh --prefix=/app --with-libraries=locale && ./b2 link=shared install
    sources:
      - type: git
        url: https://github.com/boostorg/boost.git
        branch: boost-1.65.1
#    cleanup:
#      - /include
#  - name: ronn
#    build-commands:
#      - gem install ronn-ng
#OR
#https://lists.freedesktop.org/archives/flatpak/2018-April/001095.html
#OR
#https://github.com/flatpak/flatpak-builder-tools/tree/master/rubygems
#OR
#    sources:
#      - type: archive
#        url: https://github.com/apjanke/ronn-ng/archive/v0.9.0.tar.gz
#        sha256: cbbc6dff1ed88d16fd686b3f01aa4c17e302617146cfc44c9f34a263c1b73bfc
  - name: nuspell
    modules:
      - boost
    buildsystem: cmake
    config-opts:
      - -DBUILD_TESTING=OFF
      - -DBUILD_SHARED_LIBS=ON
    sources:
      - type: archive
        url: https://github.com/nuspell/nuspell/archive/v3.1.0.tar.gz
        sha256: 188f0048160b57e47a37506f035b8f624e9046150c311f1a743870cd222effd1
#TODO rename-icon: nuspell
