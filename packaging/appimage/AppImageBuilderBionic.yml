version: 1
AppDir:
  path: ./AppDir
  app_info:
# current id results in:
#WARNING:root:Unable to locate the application desktop entry: org.nuspell.Nuspell.desktop
# this becomes an error when building without skipping the test
#INFO:root:Running test: ubuntu
#INFO:root:-----------------------------
#INFO:TEST CASE 'ubuntu':Executing: ./AppRun -D
#ERROR:appimage-builder:Tests failed
#ERROR:appimage-builder:Execution failed. Error message: ('Connection aborted.', FileNotFoundError(2, 'No such file or #directory'))
    id: org.nuspell.Nuspell
    name: Nuspell
    icon: utilities-terminal
#    icon: org.nuspell.Nuspell
# icon above results in:
#INFO:root:Generating metadata
#INFO:root:___________________
#INFO:root:Looking app icon at: /tmp/AppDir/usr/share/icons
#INFO:root:Looking app icon at: /usr/share/icons
#Traceback (most recent call last):
#  File "/usr/local/bin/appimage-builder", line 18, in <module>
#    __main__();
#  File "/usr/local/lib/python3.6/dist-packages/AppImageBuilder/__main__.py", line 63, in __main__
#    builder.build()
#  File "/usr/local/lib/python3.6/dist-packages/AppImageBuilder/app_dir/builder.py", line 69, in build
#    self._write_bundle_information()
#  File "/usr/local/lib/python3.6/dist-packages/AppImageBuilder/app_dir/builder.py", line 100, in _write_bundle_information
#    self._bundle_app_dir_icon()
#  File "/usr/local/lib/python3.6/dist-packages/AppImageBuilder/app_dir/builder.py", line 106, in _bundle_app_dir_icon
#    icon_bundler.bundle_icon()
#  File "/usr/local/lib/python3.6/dist-packages/AppImageBuilder/app_dir/metadata/icon_bundler.py", line 29, in bundle_icon
#    raise IconBundler.Error("Unable to find any app icon named: %s" % self.icon)
#AppImageBuilder.app_dir.metadata.icon_bundler.Error: Unable to find any app icon named: org.nuspell.Nuspell
    version: latest
    exec: usr/bin/nuspell
    exec_args: $@
  runtime:
    env:
      APPDIR_LIBRARY_PATH: $APPDIR/usr/lib/x86_64-linux-gnu:$APPDIR/lib/x86_64-linux-gnu
  apt:
    arch: amd64
    sources:
    - sourceline: 'deb [arch=amd64] http://archive.ubuntu.com/ubuntu bionic main restricted universe multiverse'
      key_url: 'https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x3b4fe6acc0b21f32'
    - sourceline: 'deb [arch=amd64] http://archive.ubuntu.com/ubuntu bionic-updates main restricted universe multiverse'
      key_url: 'https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x3b4fe6acc0b21f32'
    - sourceline: 'deb [arch=amd64] http://archive.ubuntu.com/ubuntu bionic-security main restricted universe multiverse'
      key_url: 'https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x3b4fe6acc0b21f32'
    - sourceline: 'deb [arch=amd64] http://ppa.launchpad.net/nuspell/ppa/ubuntu bionic main'
      key_url: 'https://keyserver.ubuntu.com/pks/lookup?op=get&search=0xab26d6e9b07627ab'
    include:
    - nuspell
    exclude: []
  files:
    exclude:
    - usr/share/man
    - usr/share/doc/*/README.*
    - usr/share/doc/*/changelog.*
    - usr/share/doc/*/NEWS.*
    - usr/share/doc/*/TODO.*
  test:
#    fedora:
#      image: appimagecrafters/tests-env:fedora-30
#      command: './AppRun -D'
#      use_host_x: False
#    debian:
#      image: appimagecrafters/tests-env:debian-stable
#      command: './AppRun -D'
#      use_host_x: False
#    arch:
#      image: appimagecrafters/tests-env:archlinux-latest
#      command: './AppRun -D'
#      use_host_x: False
#    centos:
#      image: appimagecrafters/tests-env:centos-7
#      command: './AppRun -D'
#      use_host_x: False
    ubuntu:
      image: appimagecrafters/tests-env:ubuntu-bionic
      command: './AppRun -D'
      use_host_x: False
AppImage:
  arch: x86_64
  update-information: None
  sign-key: None
